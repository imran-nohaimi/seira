<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style type="text/tailwindcss">
        @theme {
            --color-clifford: #da373d;
        }

        img {
            /* width: 200px; */
            height: 70px;
            object-fit: cover;
        }
    </style>
    <!-- Widget JavaScript bundle -->
    <script src="https://cloud.google.com/ai/gen-app-builder/client?hl=en_US"></script>

    <title>Seira</title>
</head>

<body>
    <header class="flex p-3 items-center justify-center bg-white shadow-md gap-x-10">
        <img src="google-cloud-logo.png" alt="Google Cloud Logo" />
        <img src="Logo-Rasmi-MSSB-black.png" alt="MSSB Logo" />
        <img src="teraju-ai.png" alt="Teraju AI Selangor Logo" />
        <img src="STDCx-Logo.png" alt="STDCx Logo" />
    </header>
    <section class="flex flex-col items-center justify-center h-screen pt-3">
        <script type="application/javascript">
            function resizeIFrameToFitContent(iFrame) {
                iFrame.width = iFrame.contentWindow.document.body.scrollWidth;
                iFrame.height = iFrame.contentWindow.document.body.scrollHeight;
                console.log('width', iFrame.contentWindow.document.body.scrollWidth);
                console.log('height', iFrame.contentWindow.document.body.scrollHeight);
            }

            window.addEventListener('DOMContentLoaded', function (e) {
                var iFrame = document.getElementById('iFrame1');
                console.log('DOM change detected in iframe', iFrame);
                resizeIFrameToFitContent(iFrame);

                iFrame.onload = function () {
                    const iFrameDocument = iFrame.contentDocument || iFrame.contentWindow.document;

                    // Example: Use MutationObserver to detect general DOM changes
                    const observer = new MutationObserver(function (mutations) {
                        mutations.forEach(function (mutation) {
                            console.log('DOM change detected in iFrame:', mutation.type);
                        });
                    });

                    observer.observe(iFrameDocument.body, { childList: true, subtree: true, attributes: true });
                };
            });

            window.addEventListener('message', function (event) {
                if (event.data && event.data.type === 'iframeContentChanged') {
                    console.log('Message from iframe:', event.data.value);
                }
            });

        </script>

        <iframe src="seira-widget.html" width="100%" height="100%" id="iFrame1"></iframe>
    </section>
</body>

</html>